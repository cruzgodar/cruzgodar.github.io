import{VectorField}from"/applets/vector-fields/scripts/class.min.js";import{createEmphemeralApplet,hsvToHex}from"/scripts/applets/applet.min.js";import{createDesmosGraphs,desmosBlue,desmosGraphs,desmosGraphsLoaded,desmosGray,desmosPurple,desmosRed,getColoredParametricCurve,getDesmosBounds,getDesmosPoint,getDesmosSlider}from"/scripts/src/desmos.min.js";import{$,raw}from"/scripts/src/main.min.js";export default function(){function e(c){return hsvToHex((270+-75*(Math.sign(c)+1)+180)/360,1,.4*Math.abs(c))}createDesmosGraphs({pathIntegral:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \sin(-x) + \cos(y) + \frac{(-x + y)^3}{100} - 0.49`,color:desmosGray,hidden:!1},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s(t) = (-2 + t, -2 + 1.5t)`,parametricDomain:{min:"a",max:"b"}},...getDesmosSlider({expression:"a = 0",min:0,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 3",min:"a",max:"2\\pi",secret:!1}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathIntegral2:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \sin(y) + \cos(-x) + \frac{(y - x)^3}{100} - \frac{1}{2}`,color:desmosGray,hidden:!1},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s(t) = (t, -\cos(\pi t) + t - \frac{1}{2})`,hidden:!0},...getDesmosSlider({expression:"a = -1",min:-5,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 2",min:"a",max:"5",secret:!1}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathIntegralRectangles:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[...getDesmosSlider({expression:raw`n = 25`,min:1,max:60,secret:!1}),{latex:raw`f(x, y) = \sin(y) + \cos(-x) + \frac{(y - x)^3}{100} - \frac{1}{2}`,color:desmosGray,hidden:!0},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`X(t) = t`,hidden:!0},{latex:raw`Y(t) = -\cos(\pi t) + t - \frac{1}{2}`,hidden:!0},{latex:raw`s(t) = (X(t), Y(t))`,hidden:!0},...getDesmosSlider({expression:"a = -1",min:-5,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 2",min:"a",max:"5",secret:!1}),{latex:raw`A = [a, a + \frac{b - a}{n}, ..., b]`,secret:!0},{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(X(A) + uX'(A), Y(A) + uY'(A), vf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain3Du:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(X(A) + uX'(A), Y(A) + uY'(A), vf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain3Du:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), 0)`,color:desmosRed,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), 0)`,color:desmosBlue,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), f_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), f_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + (-\frac{b - a}{2n})X'(A), Y(A) + (-\frac{b - a}{2n})Y'(A), tf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (-\frac{b - a}{2n})X'(A), Y(A) + (-\frac{b - a}{2n})Y'(A), tf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (\frac{b - a}{2n})X'(A), Y(A) + (\frac{b - a}{2n})Y'(A), tf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (\frac{b - a}{2n})X'(A), Y(A) + (\frac{b - a}{2n})Y'(A), tf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},piecewiseSmoothCurve:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \frac{1}{4}(x^2 + 2y^2) - \frac{5}{4}`,color:desmosGray,hidden:!0},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s_x(t) = \left\{ 0 \leq t \leq \frac{1}{2}: 0, \frac{1}{2} t \leq 1: 2\cos(3\pi (t - \frac{1}{2})) \right\}`,hidden:!0},{latex:raw`s_y(t) = \left\{ 0 \leq t \leq \frac{1}{2}: -4t, \frac{1}{2} t \leq 1: 2\sin(3\pi (t - \frac{1}{2})) \right\}`,hidden:!0},{latex:raw`s(t) = (s_x(t), s_y(t))`,hidden:!0},...getDesmosSlider({expression:"a = 0",min:-5,max:"2\\pi",secret:!0}),...getDesmosSlider({expression:"b = 1",min:"a",max:"5",secret:!0}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathDependence:{use3d:!0,bounds:{xmin:-1.5,xmax:1.5,ymin:-.5,ymax:2.5,zmin:-.5,zmax:2.5},expressions:[{latex:raw`(1, 1, 0), (0, 1, 1)`,color:desmosPurple},{latex:raw`(\cos(t), 1, \sin(t))`,color:desmosBlue,points:!1,lines:!0,secret:!0,parametricDomain:{min:0,max:"\\pi/2"}},{latex:raw`(1, 1, 0), (0, 1, 0), (0, 1, 1)`,color:desmosRed,points:!1,lines:!0,secret:!0}]},swimmingInCurrent:{alwaysDark:!0,highContrast:!0,bounds:{xmin:-2.5,xmax:2.5,ymin:-2.5,ymax:2.5},options:{expressions:!1},expressions:[{latex:raw`l_1(t) = (1, -\sqrt{3}) + t(0, 2\sqrt{3})`},{latex:raw`l_2(t) = (2\cos(-t), 2\sin(-t))`},...getColoredParametricCurve({fieldFunction:(x,y)=>[-y,-x+y],pathFunction:t=>[1,-Math.sqrt(3)+2*Math.sqrt(3)*t],pathFunctionDesmos:raw`l_1(t)`,minT:0,maxT:1,numSlices:100,colorFunction:e}),...getColoredParametricCurve({fieldFunction:(x,y)=>[-y,-x+y],pathFunction:t=>[2*Math.cos(-t),2*Math.sin(-t)],pathFunctionDesmos:raw`l_2(t)`,minT:Math.PI/3,maxT:5*Math.PI/3,numSlices:100,colorFunction:e}),...getDesmosPoint({point:["1","-\\sqrt{3}"],color:desmosBlue,dragMode:"NONE",size:15}),...getDesmosPoint({point:["1","\\sqrt{3}"],color:desmosRed,dragMode:"NONE",size:15})]},pathIntegralThroughVectorField:{alwaysDark:!0,highContrast:!0,bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3},options:{expressions:!1},expressions:[{latex:raw`l_1(t) = (-1, -1) + t(3, 3)`},{latex:raw`l_2(t) = (t, t^2 - 2)`},...getColoredParametricCurve({fieldFunction:(x,y)=>[x*x,x-2*y],pathFunction:t=>[3*t-1,3*t-1],pathFunctionDesmos:raw`l_1(t)`,minT:0,maxT:1,numSlices:100,colorFunction:e}),...getColoredParametricCurve({fieldFunction:(x,y)=>[x*x,x-2*y],pathFunction:t=>[t,t*t-2],pathFunctionDesmos:raw`l_2(t)`,minT:-1,maxT:2,numSlices:100,colorFunction:e}),...getDesmosPoint({point:["-1","-1"],color:desmosBlue,dragMode:"NONE",size:15}),...getDesmosPoint({point:["2","2"],color:desmosRed,dragMode:"NONE",size:15})]},nastyPath:{bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3},expressions:[{latex:raw`l(t) = (2\cos(3 \pi t), 2\sin(4 \pi t))`},...getColoredParametricCurve({fieldFunction:(x,y)=>[-2*Math.cos(x)*Math.sin(Math.sin(x)+Math.sin(y)),-2*Math.cos(y)*Math.sin(Math.sin(x)+Math.sin(y))],pathFunction:t=>[2*Math.cos(3*Math.PI*t),2*Math.sin(4*Math.PI*t)],pathFunctionDesmos:raw`l(t)`,minT:0,maxT:2,numSlices:400,colorFunction:e})]}}),desmosGraphsLoaded.swimmingInCurrent.then(()=>{createEmphemeralApplet($("#swimmingInCurrent-canvas"),canvas=>{const a=new VectorField({canvas:canvas,useFullscreenButton:!1,useResetButton:!1,transparency:!0,onDrawFrame:function(){var e=getDesmosBounds(desmosGraphs.swimmingInCurrent);a.wilson.resizeWorld({width:e.xmax-e.xmin,height:e.ymax-e.ymin,centerX:(e.xmin+e.xmax)/2,centerY:(e.ymin+e.ymax)/2})},minWorldWidth:.01,maxWorldWidth:100,minWorldHeight:.01,maxWorldHeight:100});return a.allowFullscreenWithKeyboard=!1,a.allowResetWithKeyboard=!1,a.loadPromise.then(()=>{a.run({resolution:500,maxParticles:4e3,generatingCode:"(-y * 0.5, (-x + y) * 0.5)",dt:.002,worldWidth:5,hue:.6,saturation:.85,brightness:.85,darkenWhenSlow:!0})}),a})}),desmosGraphsLoaded.pathIntegralThroughVectorField.then(()=>{createEmphemeralApplet($("#pathIntegralThroughVectorField-canvas"),canvas=>{const a=new VectorField({canvas:canvas,useFullscreenButton:!1,useResetButton:!1,transparency:!0,onDrawFrame:function(){var e=getDesmosBounds(desmosGraphs.pathIntegralThroughVectorField);a.wilson.resizeWorld({width:e.xmax-e.xmin,height:e.ymax-e.ymin,centerX:(e.xmin+e.xmax)/2,centerY:(e.ymin+e.ymax)/2})},minWorldWidth:.01,maxWorldWidth:100,minWorldHeight:.01,maxWorldHeight:100});return a.allowFullscreenWithKeyboard=!1,a.allowResetWithKeyboard=!1,a.loadPromise.then(()=>{a.run({resolution:500,maxParticles:4e3,lifetime:175,generatingCode:"(x * x * 0.5, (x - 2.0 * y) * 0.5)",dt:.0015,worldWidth:6,hue:.6,saturation:.8,brightness:.65,darkenWhenSlow:!0})}),a})}),desmosGraphsLoaded.nastyPath.then(()=>{createEmphemeralApplet($("#nastyPath-canvas"),canvas=>{const a=new VectorField({canvas:canvas,useFullscreenButton:!1,useResetButton:!1,transparency:!0,onDrawFrame:function(){var e=getDesmosBounds(desmosGraphs.nastyPath);a.wilson.resizeWorld({width:e.xmax-e.xmin,height:e.ymax-e.ymin,centerX:(e.xmin+e.xmax)/2,centerY:(e.ymin+e.ymax)/2})},minWorldWidth:.01,maxWorldWidth:100,minWorldHeight:.01,maxWorldHeight:100});return a.allowFullscreenWithKeyboard=!1,a.allowResetWithKeyboard=!1,a.loadPromise.then(()=>{a.run({resolution:500,maxParticles:4e3,lifetime:175,generatingCode:"(-2.0 * cos(x) * (sin(sin(x) + sin(y))), -2.0 * cos(y) * (sin(sin(x) + sin(y))))",dt:.00125,worldWidth:6,hue:.6,saturation:.8,brightness:.8,darkenWhenSlow:!0})}),a})})}