import{VectorField}from"/applets/vector-fields/scripts/class.min.js";import{createEmphemeralApplet}from"/scripts/applets/applet.min.js";import{createDesmosGraphs,desmosBlack,desmosBlue,desmosGraphs,desmosGray,desmosPurple,desmosRed,getDesmosPoint,getDesmosSlider,getDesmosVector}from"/scripts/src/desmos.min.js";import{$,raw}from"/scripts/src/main.min.js";export default function(){createDesmosGraphs({pathIntegral:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \sin(-x) + \cos(y) + \frac{(-x + y)^3}{100} - 0.49`,color:desmosGray,hidden:!1},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s(t) = (-2 + t, -2 + 1.5t)`,parametricDomain:{min:"a",max:"b"}},...getDesmosSlider({expression:"a = 0",min:0,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 3",min:"a",max:"2\\pi",secret:!1}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathIntegral2:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \sin(y) + \cos(-x) + \frac{(y - x)^3}{100} - \frac{1}{2}`,color:desmosGray,hidden:!1},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s(t) = (t, -\cos(\pi t) + t - \frac{1}{2})`,hidden:!0},...getDesmosSlider({expression:"a = -1",min:-5,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 2",min:"a",max:"5",secret:!1}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathIntegralRectangles:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[...getDesmosSlider({expression:raw`n = 25`,min:1,max:60,secret:!1}),{latex:raw`f(x, y) = \sin(y) + \cos(-x) + \frac{(y - x)^3}{100} - \frac{1}{2}`,color:desmosGray,hidden:!0},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`X(t) = t`,hidden:!0},{latex:raw`Y(t) = -\cos(\pi t) + t - \frac{1}{2}`,hidden:!0},{latex:raw`s(t) = (X(t), Y(t))`,hidden:!0},...getDesmosSlider({expression:"a = -1",min:-5,max:"2\\pi",secret:!1}),...getDesmosSlider({expression:"b = 2",min:"a",max:"5",secret:!1}),{latex:raw`A = [a, a + \frac{b - a}{n}, ..., b]`,secret:!0},{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(X(A) + uX'(A), Y(A) + uY'(A), vf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain3Du:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(X(A) + uX'(A), Y(A) + uY'(A), vf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain3Du:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), 0)`,color:desmosRed,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), 0)`,color:desmosBlue,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), f_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + tX'(A), Y(A) + tY'(A), f_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:raw`-\frac{b - a}{2n}`,max:raw`\frac{b - a}{2n}`},secret:!1},{latex:raw`(X(A) + (-\frac{b - a}{2n})X'(A), Y(A) + (-\frac{b - a}{2n})Y'(A), tf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (-\frac{b - a}{2n})X'(A), Y(A) + (-\frac{b - a}{2n})Y'(A), tf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (\frac{b - a}{2n})X'(A), Y(A) + (\frac{b - a}{2n})Y'(A), tf_1(X(A), Y(A)))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(X(A) + (\frac{b - a}{2n})X'(A), Y(A) + (\frac{b - a}{2n})Y'(A), tf_2(X(A), Y(A)))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},piecewiseSmoothCurve:{use3d:!0,options:{showPlane3D:!1,translucentSurfaces:!0},bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3,zmin:-3,zmax:3},expressions:[{latex:raw`f(x, y) = \frac{1}{4}(x^2 + 2y^2) - \frac{5}{4}`,color:desmosGray,hidden:!0},{latex:raw`f_1(x, y) = f(x, y)\{ f(x, y) \geq 0 \}`,hidden:!0,secret:!0},{latex:raw`f_2(x, y) = f(x, y)\{ f(x, y) \leq 0 \}`,hidden:!0,secret:!0},{latex:raw`s_x(t) = \left\{ 0 \leq t \leq \frac{1}{2}: 0, \frac{1}{2} t \leq 1: 2\cos(3\pi (t - \frac{1}{2})) \right\}`,hidden:!0},{latex:raw`s_y(t) = \left\{ 0 \leq t \leq \frac{1}{2}: -4t, \frac{1}{2} t \leq 1: 2\sin(3\pi (t - \frac{1}{2})) \right\}`,hidden:!0},{latex:raw`s(t) = (s_x(t), s_y(t))`,hidden:!0},...getDesmosSlider({expression:"a = 0",min:-5,max:"2\\pi",secret:!0}),...getDesmosSlider({expression:"b = 1",min:"a",max:"5",secret:!0}),{latex:raw`c = a \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`d = b \{ \left|s(b) - s(a)\right| > 0 \}`,hidden:!0,secret:!0},{latex:raw`(s(u).x, s(u).y, vf_1(s(u).x, s(u).y))`,color:desmosRed,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(u).x, s(u).y, vf_2(s(u).x, s(u).y))`,color:desmosBlue,parametricDomain3Du:{min:"a",max:"b"},parametricDomain3Dv:{min:0,max:1},secret:!0},{latex:raw`(s(t).x, s(t).y, f_1(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, f_2(s(t).x, s(t).y))`,color:desmosPurple,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_1(s(t).x, s(t).y))`,color:desmosRed,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s(t).x, s(t).y, 0f_2(s(t).x, s(t).y))`,color:desmosBlue,parametricDomain:{min:"a",max:"b"},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_1(s([c,d]).x, s([c,d]).y))`,color:desmosRed,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`(s([c,d]).x, s([c,d]).y, tf_2(s([c,d]).x, s([c,d]).y))`,color:desmosBlue,parametricDomain:{min:0,max:1},secret:!0}]},pathDependence:{use3d:!0,bounds:{xmin:-1.5,xmax:1.5,ymin:-.5,ymax:2.5,zmin:-.5,zmax:2.5},expressions:[{latex:raw`(1, 1, 0), (0, 1, 1)`,color:desmosPurple},{latex:raw`(\cos(t), 1, \sin(t))`,color:desmosBlue,points:!1,lines:!0,secret:!0,parametricDomain:{min:0,max:"\\pi/2"}},{latex:raw`(1, 1, 0), (0, 1, 0), (0, 1, 1)`,color:desmosRed,points:!1,lines:!0,secret:!0}]},swimmingInCurrent:{alwaysDark:!0,bounds:{xmin:-3,xmax:3,ymin:-3,ymax:3},options:{showResetButtonOnGraphpaper:!1},expressions:[{latex:raw`(1, -2), (1, 2)`,color:desmosBlack,points:!1,lines:!0},...getDesmosPoint({point:["1","b"],color:desmosBlack,dragMode:"NONE",size:12}),...getDesmosSlider({expression:"b = 1",min:-2,max:2,secret:!1,playing:!0}),...getDesmosVector({from:["1","b"],to:["1 - \\frac{b}{2}","b - \\frac{1}{2}"],color:desmosBlack,arrowSize:"0.1"})]}}),createEmphemeralApplet($("#swimmingInCurrent-canvas"),canvas=>{const e=new VectorField({canvas:canvas,transparency:!0,useFullscreenButton:!1,onDrawFrame:function(){desmosGraphs.swimmingInCurrent.setMathBounds({xmin:e.wilson.worldCenterX-e.wilson.worldWidth/2,xmax:e.wilson.worldCenterX+e.wilson.worldWidth/2,ymin:e.wilson.worldCenterY-e.wilson.worldHeight/2,ymax:e.wilson.worldCenterY+e.wilson.worldHeight/2})}});return e.allowFullscreenWithKeyboard=!1,e.loadPromise.then(()=>{e.run({resolution:500,maxParticles:3e3,generatingCode:"(-y * 0.5, -x * 0.5)",dt:.006,worldWidth:6})}),e})}