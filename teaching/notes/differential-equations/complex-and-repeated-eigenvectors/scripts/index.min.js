import{VectorField}from"/applets/vector-fields/scripts/class.min.js";import{createEmphemeralApplet}from"/scripts/applets/applet.min.js";import{createDesmosGraphs,desmosPurple,getDesmosSlider}from"/scripts/src/desmos.min.js";import{$,raw}from"/scripts/src/main.min.js";export default function(){createDesmosGraphs({vectorField:{bounds:{xmin:-8,xmax:8,ymin:-8,ymax:8},expressions:[{latex:raw`f_1(x, y) = x + y`,hidden:!0},{latex:raw`f_2(x, y) = -2x + 3y`,hidden:!0},...getDesmosSlider({expression:"n = 12",min:1,max:20,step:1,secret:!1}),...getDesmosSlider({expression:"s = 1",min:.5,max:2,secret:!1}),{latex:raw`A = [(a, b) \for a = [-n, -n+1, ..., n], b = [-n, -n+1, ..., n]]`,hidden:!0,secret:!0},{latex:raw`B = [(f_1(a, b), f_2(a, b)) \for a = [-n, -n+1, ..., n], b = [-n, -n+1, ..., n]]`,hidden:!0,secret:!0},{latex:raw`A + \frac{ts}{25}B`,color:desmosPurple,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`S = [\arctan(f_2(a, b), f_1(a, b)) \for a = [-n, -n+1, ..., n], b = [-n, -n+1, ..., n]]`,hidden:!0,secret:!0},{latex:raw`M = [\left|(f_2(a, b), f_1(a, b))\right| \for a = [-n, -n+1, ..., n], b = [-n, -n+1, ..., n]]`,hidden:!0,secret:!0},{latex:raw`L = \frac{M}{50}`,hidden:!0,secret:!0},{latex:raw`T_1 = -(.35\cos(S + 0.5), .35\sin(S + 0.5))`,hidden:!0,secret:!0},{latex:raw`T_2 = -(.35\cos(S - 0.5), .35\sin(S - 0.5))`,hidden:!0,secret:!0},{latex:raw`A + \frac{s}{25}B + tsL(T_1)`,color:desmosPurple,parametricDomain:{min:0,max:1},secret:!0},{latex:raw`A + \frac{s}{25}B + tsL(T_2)`,color:desmosPurple,parametricDomain:{min:0,max:1},secret:!0}]}}),createEmphemeralApplet($("#vector-field-canvas"),canvas=>{const e=new VectorField({canvas:canvas});return e.loadPromise.then(()=>{e.run({generatingCode:"(.23 * (x + y), .23 * (-2.0 * x + 3.0 * y))",worldWidth:5})}),e})}